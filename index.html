<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/style.css" />
    <title>D√©monstration Compl√®te View Transitions API</title>
  </head>
  <body>
    <header>
      <h1>View Transitions API</h1>
      <p>
        D√©couvrez la puissance des transitions natives du Web avec l'API View
        Transitions, un moyen r√©volutionnaire de cr√©er des animations fluides et
        performantes.
      </p>
    </header>

    <section>
      <h2>Comparaison Simple vs View Transitions</h2>
      <pre><code>
// Exemple de base sans utiliser l'api view transition
cards.forEach((card, index) => {
  card.addEventListener("click", (event) => {
    // Modification du DOM
    card.classList.toggle("expanded");
  });
});

// Exemple de base <span class="highlight">avec l'api view transition</span>
cards.forEach((card, index) => {
  card.addEventListener("click", (event) => {
    <span class="highlight">document.startViewTransition(() => {
      // Modification du DOM
      card.classList.toggle("expanded");
    });</span>
  });
});
      </code></pre>
      <div class="highlight-box">
        <h3>La Diff√©rence Cl√©</h3>
        <p>
          La seule ligne <code>document.startViewTransition()</code> transforme
          une transition brutale en une animation fluide et √©l√©gante. Le
          navigateur g√®re toute la complexit√© de l'animation pour vous.
        </p>
      </div>
    </section>

    <section class="highlight-box">
      <h2>Comment √ßa marche vraiment ?</h2>
      <p>
        Imaginez les View Transitions comme un photographe magique qui capture
        instantan√©ment deux photos de votre page web. Une photo avant le
        changement, une photo apr√®s. Ensuite, ce photographe fait un tour de
        passe-passe : il fait glisser doucement une photo sur l'autre, cr√©ant
        une transition fluide et √©l√©gante.
      </p>
      <p>
        Au lieu de sauter brutalement d'un √©tat √† un autre, votre interface web
        fait une transition en douceur, comme si les √©l√©ments √©taient vivants et
        se d√©pla√ßaient naturellement. C'est un peu comme un fondu au cin√©ma,
        mais pour les interfaces web.
      </p>
      <p>
        Le truc g√©nial ? Vous n'avez pas besoin d'√™tre un expert en animations.
        Le navigateur fait tout le travail difficile pour vous. Il suffit
        d'utiliser <code>document.startViewTransition()</code>, et la magie
        op√®re !
      </p>
    </section>

    <section>
      <h2>Support des Navigateurs</h2>
      <div class="browser-support">
        <div class="supported">Chrome</div>
        <div class="supported">Edge</div>
        <div class="unsupported">Firefox</div>
        <div class="supported">Safari</div>
      </div>
    </section>

    <section>
      <h2>Principes Cl√©s</h2>
      <ul>
        <li>Transition native du navigateur</li>
        <li>Performance optimis√©e</li>
        <li>Minimal overhead</li>
        <li>Fallback automatique</li>
      </ul>
    </section>

    <section>
      <h2>D√©monstration D√©taill√©e : Grille Interactive</h2>

      <div class="highlight-box">
        <h3>Structure CSS Grid Dynamique</h3>
        <pre><code>
.container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.2rem;
  resize: both;  /* Permet de redimensionner le conteneur */
  overflow: auto;
}

.card {
  /* Utilisation des attributs data pour le placement */
  grid-column: attr(data-column);
  grid-row: attr(data-row);
}
        </code></pre>
        <p>
          La grille utilise une configuration 2x2 avec des cartes positionn√©es
          dynamiquement via des attributs data. Le conteneur est
          redimensionnable, d√©montrant la flexibilit√© du layout.
        </p>
      </div>

      <div class="highlight-box">
        <h3>View Transitions Personnalis√©es</h3>
        <pre><code>
.id1 { view-transition-name: card-transition1; }
.id2 { view-transition-name: card-transition2; }

::view-transition-new(card-transition1) {
  animation: fade-in 0.2s;
}
::view-transition-old(card-transition1) {
  animation: fade-out 0.2s;
}
        </code></pre>
        <p>
          Chaque carte poss√®de un nom de transition unique, permettant des
          animations individualis√©es. Les pseudo-√©l√©ments ::view-transition
          d√©finissent des animations de fondu personnalis√©es.
        </p>
      </div>

      <div class="highlight-box">
        <h3>Logique JavaScript d'Interaction</h3>
        <pre><code>
document.startViewTransition(() => {
  // Modification du DOM
  card.classList.toggle('expanded');
});
        </code></pre>
        <p>
          L'API View Transitions capte automatiquement les changements de DOM et
          g√©n√®re une transition fluide. La m√©thode `startViewTransition()` g√®re
          toute la complexit√© de l'animation.
        </p>
      </div>

      <div class="highlight-box">
        <h3>Fonctionnalit√©s Cl√©s</h3>
        <ul>
          <li>Agrandissement dynamique des cartes</li>
          <li>Fermeture en cliquant √† l'ext√©rieur</li>
          <li>Gestion de l'√©tat actif</li>
          <li>Fallback pour navigateurs non-support√©s</li>
        </ul>
      </div>
    </section>

    <section>
      <h2>Principes Techniques</h2>
      <ul>
        <li>
          <strong>Nommage des Transitions :</strong>
          Chaque carte a un identifiant unique de transition
          (<code>view-transition-name</code>)
        </li>
        <li>
          <strong>Animations Personnalis√©es :</strong>
          Utilisation des pseudo-√©l√©ments <code>::view-transition-new</code> et
          <code>::view-transition-old</code>
        </li>
        <li>
          <strong>Gestion Cross-Browser :</strong>
          V√©rification de support via <code>document.startViewTransition</code>
        </li>
      </ul>
    </section>

    <section>
      <h2>Processus de Transition</h2>

      <div class="screenshot-comparison">
        <div class="screenshot">
          <img
            src="/api/placeholder/500/300?text=Avant+Transition"
            alt="√âtat initial"
          />
          <p>√âtat Initial (::view-transition-old)</p>
        </div>
        <div class="screenshot">
          <img
            src="/api/placeholder/500/300?text=Apr√®s+Transition"
            alt="√âtat final"
          />
          <p>√âtat Final (::view-transition-new)</p>
        </div>
      </div>

      <div class="highlight-box">
        <h3>M√©canisme Technique de Transition</h3>
        <pre><code>
@keyframes screenshot-transition {
  from {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      opacity: 1;
  }
  to {
      clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
      opacity: 0;
  }
}

id1 {
  view-transition-name: card-transition1;
}

::view-transition-old(card-transition1) {
  animation: 
      screenshot-transition 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

::view-transition-new(card-transition1) {
  animation: 
      screenshot-transition 0.5s cubic-bezier(0.4, 0, 0.2, 1) reverse;
}
        </code></pre>
      </div>

      <div class="highlight-box">
        <h3>√âtapes de la Transition</h3>
        <ol>
          <li>Capture de l'√©tat initial (::view-transition-old)</li>
          <li>
            G√©n√©ration du screenshot de l'√©tat final (::view-transition-new)
          </li>
          <li>Animation de transition personnalis√©e</li>
          <li>Remplacement de l'√©tat visuel</li>
        </ol>
      </div>
    </section>

    <section>
      <h2>M√©canisme de Transition entre Screenshots</h2>
      <ul>
        <li>
          <strong>clip-path</strong> : G√®re l'effet de glissement/r√©v√©lation
        </li>
        <li>
          <strong>cubic-bezier</strong> : Courbe d'animation personnalis√©e
        </li>
        <li>
          <strong>Opacity</strong> : Gestion de la transparence pendant la
          transition
        </li>
      </ul>
    </section>

    <section id="web-component-placeholder">
      <h2>Espace pour Web Component de D√©monstration</h2>
      <p>Un espace r√©serv√© pour une future d√©monstration interactive.</p>
    </section>

    <footer>
      <p>üöÄ D√©monstration avanc√©e des capacit√©s de View Transitions API</p>
    </footer>

    <script>
      // Script de d√©mo minimal
      console.log("D√©monstration View Transitions API");
    </script>
  </body>
</html>
